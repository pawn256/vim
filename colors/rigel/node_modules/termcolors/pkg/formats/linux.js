'use strict';

var _ = require('lodash');

var createExporter = require('../exporter');

var template = "#!/bin/sh\nif [ \"$TERM\" = \"linux\" ]; then\n  /bin/echo -e \"\n  \\e]P0{{=c[0]}}\n  \\e]P1{{=c[1]}}\n  \\e]P2{{=c[2]}}\n  \\e]P3{{=c[3]}}\n  \\e]P4{{=c[4]}}\n  \\e]P5{{=c[5]}}\n  \\e]P6{{=c[6]}}\n  \\e]P7{{=c[7]}}\n  \\e]P8{{=c[8]}}\n  \\e]P9{{=c[9]}}\n  \\e]PA{{=c[10]}}\n  \\e]PB{{=c[11]}}\n  \\e]PC{{=c[12]}}\n  \\e]PD{{=c[13]}}\n  \\e]PE{{=c[14]}}\n  \\e]PF{{=c[15]}}\n  \"\n  # get rid of artifacts\n  clear\nfi\n";

module.exports = {
  export: createExporter(template, _.partialRight(_.mapValues, function (color) {
    return color.toHex().substring(1);
  }))
};
